{% extends 'base.html' %} 
{% block content %}


<div class='content-title'>Patients Records Table</div>

<div style="margin-top: 80px;">
  Search: <input />
  <button
    class="btn btn-success"
    data-bs-toggle="modal"
    data-bs-target="#exampleModal"
    style="position: absolute; right: 15px"
  >
    <i class="bi bi-person-plus-fill"></i> Add Patient
  </button>
</div>

<!-- Modal -->
 <div
  class="modal fade"
  id="exampleModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
  >
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content" style="background-color: #e7e9eb;">
      <div class="modal-header gradient-green">
        <h1 class="modal-title fs-5 text-light" id="exampleModalLabel">
          Add patient
        </h1>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
          <form action="{% url 'addpatient' %}" method="POST">
            {% csrf_token %}
        <div class="row g-3">
          <div class="col">
            <input type="text" class="form-control" placeholder="First name" name="fName">
          </div>
          <div class="col">
            <input type="text" class="form-control" placeholder="middle name" name="mName">
          </div>
          <div class="col">
            <input type="text" class="form-control" placeholder="Last name" name="lName">
          </div>
        </div>

        <div class="row g-3" style="padding-top: 10px;">
          <div class="col-sm-8">
            <input type="text" class="form-control" placeholder="Address"  name="address">
          </div>
           <div class="col">
            <input type="text" class="form-control" placeholder="Contact No."  name="contactnum">
          </div>
        </div>
        

      <div class="row g-3" style="padding-top: 10px;">
        <div class="col">
          <input type="text" class="form-control" placeholder="Birthday"  name="bday">
        </div>
        <div class="col">
          <select id="inputState" class="form-select"  name="gender">
            <option selected>Gender</option>
            <option>Male</option>
            <option>Female</option>
            <option>Other</option>
          </select>
        </div>
        <div class="col">
          <input type="text" class="form-control" placeholder="Age"  name="age">
        </div>
        <div class="col">
          <input type="text" class="form-control" placeholder="Civil Status"  name="civilstatus">
        </div>
      </div>

      <div class="form-floating" style="padding-top: 10px;">
        <textarea class="form-control" placeholder="Leave a comment here" id="floatingTextarea2" style="height: 200px"  name="remarks"></textarea>
        <label for="floatingTextarea2">Remarks</label>
      </div>
      <button
      class="btn btn-success"
      type="submit"
      data-bs-toggle="modal"
      data-bs-target="#exampleModal"
      style="position:relative;left: 600px;margin-top: 10px;">
    <i class="bi bi-box-arrow-right"></i></i> Add Patient
    </button>
  </form>
  </div>
      </div>
    </div>
  </div>
</div> 

<!--PATIENTS TABLE-->

<div class="patient-table">
  <table class="table table-sm">
    <thead class="table-secondary">
      <th>Patient No.</th>
      <th>Last Name</th>
      <th>First Name</th>
      <th>Middle Name</th>
      <th>Gender</th>
      <th>Age</th>
      <th>Contact No.</th>
      <th>Date Added No.</th>
      <th>Action</th>
    </thead>

    <tbody>
      {% for x in patientsdata %}
      <tr>
        <td>{{x.id}}</td>
        <td>{{x.last_name}}</td>
        <td>{{x.first_name}}</td>
        <td>{{x.middle_name}}</td>
        <td>{{x.gender}}</td>
        <td>{{x.age}}</td>
        <td>{{x.contact_number}}</td>
        <td>{{x.created_at}}</td>
        <td style="in">
          <a role="button" href="#" class="btn btn-outline-danger btn-sm"
            ><i class="bi bi-trash3"></i></a
          >&nbsp

          <a
            role="button"
            href="{% url 'addpatient' %}"
            class="btn btn-outline-success btn-sm"
            ><i class="bi bi-pencil-square"></i
          ></a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

{% endblock content %}
